<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<AnchorPane xmlns:fx="http://javafx.com/fxml"
            fx:id="rootPane"
            fx:controller="examschd.controller.SchedulingController"
            stylesheets="@../../css/scheduling.css">

    <VBox spacing="25"
          alignment="TOP_CENTER"
          AnchorPane.topAnchor="20"
          AnchorPane.leftAnchor="20"
          AnchorPane.rightAnchor="20"
          AnchorPane.bottomAnchor="20">

        <!-- ================= TITLE ================= -->
        <Label text="Exam Scheduler — Dashboard"
               styleClass="title"/>

        <!-- ================= FILTER + IMPORT ================= -->
        <HBox spacing="15" alignment="CENTER">
            <Button fx:id="openFiltersBtn"
                    text="Filter Settings"
                    styleClass="blue-button"/>

            <Button fx:id="importBtn"
                    text="Import all data"
                    onAction="#openImportPopup"
                    styleClass="blue-button"/>

            <Button fx:id="generateBtn"
                    text="Generate Schedule"
                    onAction="#onGenerateSchedule"
                    styleClass="blue-button"/>
        </HBox>

        <!-- ================= SEARCH CARDS (YAN YANA) ================= -->
        <HBox spacing="40" alignment="CENTER">

            <!-- STUDENT CARD -->
            <VBox spacing="12" styleClass="card">

                <Label text="Student Schedule" styleClass="card-title"/>

                <TextField fx:id="studentSearchField"
                           promptText="Search by student ID..."
                           styleClass="search-field"/>

                <ComboBox fx:id="studentCombo"
                          promptText="Select Student"
                          prefWidth="260"/>

                <Button fx:id="showStudentBtn"
                        text="Show Schedule"
                        prefWidth="260"
                        styleClass="action-btn"/>
            </VBox>

            <!-- DATE RANGE CARD -->
            <VBox spacing="12" styleClass="card">

                <Label text="Exam Date Range" styleClass="card-title"/>

                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Start:"/>
                    <DatePicker fx:id="startDatePicker" prefWidth="180"/>
                </HBox>

                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="End:"/>
                    <DatePicker fx:id="endDatePicker" prefWidth="180"/>
                </HBox>

                <Button fx:id="applyDateRangeBtn"
                        text="Apply Date Range"
                        prefWidth="240"
                        styleClass="action-btn"/>
            </VBox>

            <!-- CLASSROOM CARD -->
            <VBox spacing="12" styleClass="card">

                <Label text="Classroom Schedule" styleClass="card-title"/>

                <TextField fx:id="classroomSearchField"
                           promptText="Search classroom name..."
                           styleClass="search-field"/>

                <ComboBox fx:id="classroomCombo"
                          promptText="Select Classroom"
                          prefWidth="260"/>

                <Button fx:id="showClassroomBtn"
                        text="Show Schedule"
                        prefWidth="260"
                        styleClass="action-btn"/>
            </VBox>

        </HBox>

        <!-- ================= SCHEDULE AREA ================= -->
        <!-- Alt kısım büyür, içerik artarsa scroll burada olur -->
        <ScrollPane fitToWidth="true"
                    fitToHeight="true"
                    VBox.vgrow="ALWAYS"
                    prefHeight="400">

            <GridPane fx:id="scheduleGrid"
                      hgap="6"
                      vgap="6"
                      styleClass="schedule-table"
                      maxWidth="Infinity"
                      maxHeight="Infinity"/>
        </ScrollPane>

    </VBox>

</AnchorPane>
